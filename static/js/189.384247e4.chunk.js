"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[189],{6684:function(n,t,e){e.d(t,{Nq:function(){return a},UC:function(){return o},jH:function(){return r}});var r=function(n){return""!==n&&n.length<7},o=function(n){return""!==n&&!/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/gi.test(n)},a=function(n){return""!==n&&!/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/gi.test(n)}},189:function(n,t,e){e.r(t),e.d(t,{default:function(){return O}});var r,o,a,i,c=e(2791),s=e(5206),u=e(9434),d=function(n){return n.filter},l=e(3634),h=e(1634),f=e(4684),x=function(n){return n.contacts.items},m=function(n){return n.contacts.isLoading},p=function(n){return n.contacts.isLoadingBtn},g=function(n){return n.contacts.error},j=function(){return{contacts:(0,u.v9)(x),isLoading:(0,u.v9)(m),isLoadingBtn:(0,u.v9)(p),error:(0,u.v9)(g)}},Z=e(6564),v=e(3967),b=e(3329),C=function(){var n="light"===(0,v.Z)().palette.mode?"#424242":"#fafafa";return(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)(Z.Z,{color:n})})},y=e(9439),w=e(6684),A=e(4554),L=e(3767),k=e(7665),P=e(3227),_=e(4524),F=function(n){var t=n.onAddContact,e=j().isLoadingBtn,r=(0,c.useState)(""),o=(0,y.Z)(r,2),a=o[0],i=o[1],s=(0,c.useState)(""),u=(0,y.Z)(s,2),d=u[0],l=u[1],h=(0,w.UC)(a),f=(0,w.Nq)(d),x=function(){i(""),l("")};return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(A.Z,{component:"form",autoComplete:"off",onSubmit:function(n){n.preventDefault(),t({name:a,number:d}),x()},children:(0,b.jsxs)(L.Z,{spacing:2,alignItems:"center",justifyContent:"center",children:[(0,b.jsx)(k.Z,{id:"outlined-basic",error:h,helperText:h&&"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",label:"Name",variant:"outlined",color:"secondary",type:"text",value:a,onChange:function(n){return i(n.target.value)},required:!0,sx:{width:"100%"}}),(0,b.jsx)(k.Z,{error:f,helperText:f&&"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",id:"outlined-basic",label:"Number",variant:"outlined",color:"secondary",type:"tel",value:d,onChange:function(n){return l(n.target.value)},required:!0,sx:{width:"100%"}}),(0,b.jsx)(P.Z,{loadingPosition:"end",variant:"contained",endIcon:(0,b.jsx)(_.Z,{}),loading:e,color:"secondary",type:"submit",sx:{width:"80%",color:"common.white",fontWeight:"700"},disabled:h||f,children:(0,b.jsx)("span",{children:"Add Contact"})})]})})})},z=function(n){var t=n.onFilter;return(0,b.jsx)(L.Z,{alignItems:"center",children:(0,b.jsx)(k.Z,{id:"outlined-basic",label:"Find contact by name...",variant:"outlined",color:"secondary",type:"text",autoComplete:"off",onChange:function(n){return t(n.target.value)},sx:{width:"80%"}})})},I=e(1889),N=e(493),q=e(4852),B=e(3400),E=e(653),S=e(3044),T=e(158),K=e(7247),M=e(9332),U=e(168),D=e(7691),G=D.ZP.a(r||(r=(0,U.Z)(["\n  display: inline-block;\n  padding: 3px 3px 3px 0;\n  text-decoration: none;\n  color: ",";\n"])),(function(n){return n.theme.palette.secondary.main})),H=function(n){var t=n.contacts,e=(0,u.I0)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(I.ZP,{item:!0,xs:12,md:6,children:(0,b.jsx)(N.Z,{children:t.map((function(n){var t=n.id,r=n.name,o=n.number;return(0,b.jsxs)(q.ZP,{secondaryAction:(0,b.jsx)(B.Z,{edge:"end","aria-label":"delete",onClick:function(){return function(n){return e((0,l.GK)(n)).unwrap().then((function(n){return n})).catch((function(){return s.Am.error("Error! Contact wasn't delete.")}))}(t)},children:(0,b.jsx)(K.Z,{})}),children:[(0,b.jsx)(E.Z,{children:(0,b.jsx)(S.Z,{children:(0,b.jsx)(M.Z,{})})}),(0,b.jsx)(T.Z,{primary:r,secondary:(0,b.jsx)(G,{href:"tel:".concat(o),children:o})})]},t)}))})})})},J=D.ZP.section(o||(o=(0,U.Z)(["\n  padding: 110px 0 0 0;\n\n  > *:not(:last-child) {\n    margin-bottom: 30px;\n  }\n"]))),W=D.ZP.h2(a||(a=(0,U.Z)(["\n  margin: 0;\n  text-align: center;\n"]))),$=D.ZP.p(i||(i=(0,U.Z)(["\n  display: flex;\n  align-items: center;\n  margin: 0;\n  font-size: 21px;\n"]))),O=function(){var n=(0,u.I0)(),t=j(),e=t.contacts,r=t.isLoading,o=(0,u.v9)(d);(0,c.useEffect)((function(){n((0,l.yF)()).unwrap().then((function(n){return n})).catch((function(){return s.Am.error("Error! Can't download contacts")}))}),[n]);var a=e.filter((function(n){return n.name.toLowerCase().includes(o.toLowerCase())}));return(0,b.jsx)("main",{children:(0,b.jsxs)(J,{children:[(0,b.jsx)(W,{children:"Phonebook"}),(0,b.jsx)(F,{onAddContact:function(t){e.some((function(n){return n.name.toLowerCase()===t.name.toLowerCase()}))?s.Am.warn("".concat(t.name," is already in contacts.")):n((0,l.uK)(t)).unwrap().then((function(n){return n})).catch((function(){return s.Am.error("Error! Can't add contacts")}))}}),(0,b.jsx)(W,{children:"My Contacts"}),(0,b.jsx)(z,{onFilter:function(t){n((0,h.h)(t))}}),r&&(0,b.jsx)(C,{}),e.length>0?(0,b.jsx)(H,{contacts:a}):(0,b.jsxs)($,{children:["There are no contacts here"," ",(0,b.jsx)(f.Z,{sx:{ml:1}})]})]})})}}}]);
//# sourceMappingURL=189.384247e4.chunk.js.map